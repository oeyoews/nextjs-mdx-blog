---
title: 'JavaScript'
date: '2023-08-15'
description: Javascript
---

## TOC

## 对象和数组的遍历操作

## forEach

Array.prototype.forEach()

forEach() 方法对**数组**的每个元素执行一次给定的函数。

### Params

接受一个 callbackFn 函数()

```forEach.js
// callbackFn(el, index, array);
const arr = ['one', 'two', 'thr'];
arr.forEach((el) => {
  console.log(el);
});
```

forEach() 期望的是一个同步函数，它不会等待 Promise 兑现。在使用 Promise（或异步函数）作为 forEach 回调时，请确保你意识到这一点可能带来的影响。

```forEach-example.js
const ratings = [5, 4, 5];
let total = 0;

const sum = async (a, b) => a + b;

ratings.forEach(async (rating) => {
  total = await sum(total, rating);
});

console.log(total);
// 期望的输出：14
// 实际的输出：0
// 可以使用for of
```

## Array.from()

> Array.from() 静态方法从可迭代或类数组对象创建一个新的浅拷贝的数组实例。

## Array.prototype.map()

> map() 方法创建一个新数组，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。

## Array.prototype.push()

> push() 方法将指定的元素添加到数组的**末尾**，并返回新的数组长度(array length)。
> unshift and push is 相反

## Array.prototype.pop()

> pop() 方法从数组中删除最后一个元素，并返回该元素的值(value)。此方法会更改数组的长度。(push, pop, 好比出入栈)

## Array.prototype.reverse()

> reverse() 方法就地反转数组中的元素，并返回同一数组的引用。数组的第一个元素会变成最后一个，数组的最后一个元素变成第一个。换句话说，数组中的元素顺序将被翻转，变为与之前相反的方向。

## Array.prototype.slice()

> slice() 方法返回一个新的数组对象，这一对象是一个由 start 和 end 决定的原数组的浅拷贝（包括 start，不包括 end），其中 start 和 end 代表了数组元素的索引。原始数组不会被改变。

```slice.js
slice();
slice(start);
slice(start, end);
const arr = [1, 22, 33];
const d = arr.slice(0, 2); // 前两个元素
```

## Array.prototype.sort() 稳定排序

> sort() 方法就地对数组的元素进行排序，并返回对相同数组的引用。默认排序是将元素转换为字符串，然后按照它们的 UTF-16 码元值升序排序。

```sort-example.js
// sort();
// sort(compareFn);
// compareFn: 定义排序顺序的函数。返回值应该是一个数字，其正负性表示两个元素的相对顺序。
const numbers = [3, 1, 4, 2, 5];
const sorted = numbers.sort((a, b) => (a < b ? 1 : -1));
```

## Array.prototype.entries()

> entries() 方法返回一个新的数组迭代器 (en-US)对象，该对象包含数组中每个索引的键/值对。

```entries.js
// 最常使用的情况是对象转换成数组
const obj = {
  one: 1,
  two: 2,
};

const o = Object.entries(obj);
o.map(([f, n]) => {
  console.log(f, n);
});
```

- includes, find, filter ...
- Object.values, Object.keys

对象的遍历一般使用 for ... in, 或者 Object.keys(values, entries)

```for...in.js
const a = {
  a: 1,
  b: 2,
};

for (const k in a) {
  console.log(k + ": " + a[k]);
}
// output: a: 1 b: 2
```
## Array.prototype.join()

join() 方法将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串，用逗号或指定的分隔符字符串分隔。如果数组只有一个元素，那么将返回该元素而不使用分隔符。
指定一个字符串来分隔数组的每个元素。如果需要，将分隔符转换为字符串。如果省略，数组元素用逗号（,）分隔。如果 separator 是空字符串（""），则所有元素之间都没有任何字符。

```js
const elements = ['Fire', 'Air', 'Water'];

console.log(elements.join()); // Expected output: "Fire,Air,Water"
```

> 数组的遍历就有很多方法, 比如 filter, sort, forEach, map, for loop, 一般遍历操作不是单纯的遍历, 需要有条件的进行一些操作
